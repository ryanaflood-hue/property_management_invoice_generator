{% extends "base.html" %}
{% block content %}
<div class="page-header">
  <h1>New Customer</h1>
</div>

<div class="card" style="max-width: 800px; margin: 0 auto;">
  <form method="post">
    <div class="form-grid">
      <div class="form-group">
        <label>Name</label>
        <input type="text" name="name" required placeholder="e.g. John Doe">
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" name="email" placeholder="john@example.com">
      </div>
    </div>

    <div class="form-group">
      <label>Property Address</label>
      <input type="text" name="property_address" required placeholder="123 Main St">
    </div>

    <div class="form-grid">
      <div class="form-group">
        <label>City</label>
        <input type="text" name="property_city">
      </div>
      <div class="form-group">
        <label>State</label>
        <input type="text" name="property_state">
      </div>
      <div class="form-group">
        <label>Zip Code</label>
        <input type="text" name="property_zip">
      </div>
    </div>

    <div class="form-grid">
      <div class="form-group">
        <label>Rate ($)</label>
        <input type="number" step="0.01" name="rate" required placeholder="0.00">
      </div>
      <div class="form-group">
        <label>Fee Type</label>
        <select name="fee_type">
          {% for ft in fee_types %}
          <option value="{{ ft.name }}">{{ ft.name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label>Billing Cadence</label>
        <select name="cadence">
          <option value="monthly">Monthly</option>
          <option value="quarterly">Quarterly</option>
          <option value="yearly">Yearly</option>
        </select>
      </div>
      <div class="form-group">
        <label>Next Bill Date</label>
        <input type="date" name="next_bill_date" required>
      </div>
    </div>

    <fieldset style="border: 1px solid #ddd; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
      <legend style="padding: 0 0.5rem; font-weight: 600; color: var(--text-secondary);">Extra Fees (Optional)</legend>

      <!-- Fee 2 -->
      <div class="form-grid">
        <div class="form-group">
          <label>Fee 2 Type</label>
          <select name="fee_2_type">
            <option value="">-- None --</option>
            {% for ft in fee_types %}
            <option value="{{ ft.name }}">{{ ft.name }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="form-group">
          <label>Fee 2 Rate ($)</label>
          <input type="number" step="0.01" name="fee_2_rate" placeholder="0.00">
        </div>
      </div>

      <!-- Fee 3 -->
      <div class="form-grid">
        <div class="form-group">
          <label>Fee 3 Type</label>
          <select name="fee_3_type">
            <option value="">-- None --</option>
            {% for ft in fee_types %}
            <option value="{{ ft.name }}">{{ ft.name }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="form-group">
          <label>Fee 3 Rate ($)</label>
          <input type="number" step="0.01" name="fee_3_rate" placeholder="0.00">
        </div>
      </div>

      <!-- Additional Fee -->
      <div class="form-grid">
        <div class="form-group">
          <label>Additional Fee Description</label>
          <input type="text" name="additional_fee_desc" placeholder="e.g. Late Fee">
        </div>
        <div class="form-group">
          <label>Additional Fee Amount ($)</label>
          <input type="number" step="0.01" name="additional_fee_amount" placeholder="0.00">
        </div>
      </div>
    </fieldset>

    <div class="form-actions">
      <a href="{{ url_for('list_customers') }}" class="btn btn-secondary">Cancel</a>
      <button type="submit" class="btn btn-primary">Create Customer</button>
    </div>
  </form>
</div>
{% endblock %}